const p=a=>{document.body.addEventListener("click",t=>{u(a)}),addEventListener("keydown",t=>{t.code==="Escape"&&u(a)}),Array.prototype.forEach.call(a,t=>{const e=d(t),s=t.dataset.toggleClass?t.dataset.toggleClass:"is-active";e.addEventListener("click",o=>o.stopPropagation()),t.setAttribute("aria-expanded","false"),c(e,!0),t.addEventListener("click",o=>{const l=document.querySelectorAll(`[data-toggle="${t.dataset.toggle}"]`),g=t.dataset.toggleLockScroll!==void 0;let i=parseInt(t.dataset.toggleDuration);i||(i=parseFloat(window.getComputedStyle(e).transitionDuration)*1e3),Array.prototype.forEach.call(a,r=>{const n=d(r);!n.isSameNode(e)&&(!t.dataset.toggleGroup||r.dataset.toggleGroup!==t.dataset.toggleGroup)&&(n.classList.remove(s),r.setAttribute("aria-expanded","false"),setTimeout(()=>{c(n,!0)},i))}),e.classList.contains(s)?(Array.prototype.forEach.call(l,r=>r.setAttribute("aria-expanded","false")),g&&(document.body.style.overflow="auto"),setTimeout(()=>{c(e,!0)},i)):(setTimeout(()=>{c(e,!1)},i),g&&(document.body.style.overflow="hidden"),Array.prototype.forEach.call(l,r=>r.setAttribute("aria-expanded","true"))),setTimeout(()=>{e.classList.toggle(s)},50),o.stopPropagation()})})};function d(a){return a.dataset.toggle?document.querySelector(a.dataset.toggle):a.parentNode}function u(a){Array.prototype.forEach.call(a,t=>{const e=d(t),s=t.dataset.toggleLockScroll!==void 0,o=t.dataset.toggleClass?t.dataset.toggleClass:"is-active";let l=parseInt(t.dataset.toggleDuration);l||(l=parseFloat(window.getComputedStyle(e).transitionDuration)*1e3),e.classList.remove(o),t.setAttribute("aria-expanded","false"),s&&(document.body.style.overflow="auto"),setTimeout(()=>{c(e,!0)},l)})}function c(a,t){const e=a.querySelectorAll(".toggle\\:invisible"),s=a.querySelectorAll(".toggle\\:visible");t?(Array.prototype.forEach.call(e,o=>o.classList.remove("invisible")),Array.prototype.forEach.call(s,o=>o.classList.add("invisible"))):(Array.prototype.forEach.call(e,o=>o.classList.add("invisible")),Array.prototype.forEach.call(s,o=>o.classList.remove("invisible")))}export{p as default};
